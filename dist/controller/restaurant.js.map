{"version":3,"sources":["../../src/controller/restaurant.js"],"names":["config","db","api","get","req","res","Restaurant","find","err","restaurants","send","json","findById","params","id","restaurant","post","newRest","name","body","save","message"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;;;;;kBAEc,gBAAoB;AAAA,MAAjBA,MAAiB,QAAjBA,MAAiB;AAAA,MAATC,EAAS,QAATA,EAAS;;AAChC,MAAIC,MAAM,sBAAV;;AAEA;AACAA,MAAIC,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzBC,yBAAWC,IAAX,CAAgB,EAAhB,EAAoB,UAACC,GAAD,EAAMC,WAAN,EAAsB;AACxC,UAAID,GAAJ,EAAS;AACPH,YAAIK,IAAJ,CAASF,GAAT;AACD;AACDH,UAAIM,IAAJ,CAASF,WAAT;AACD,KALD;AAMD,GAPD;;AASA;AACAP,MAAIC,GAAJ,CAAQ,MAAR,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC5BC,yBAAWM,QAAX,CAAoBR,IAAIS,MAAJ,CAAWC,EAA/B,EAAmC,UAACN,GAAD,EAAMO,UAAN,EAAqB;AACtD,UAAIP,GAAJ,EAAS;AACPH,YAAIK,IAAJ,CAASF,GAAT;AACD;AACDH,UAAIM,IAAJ,CAASI,UAAT;AACD,KALD;AAMD,GAPD;;AASA;AACAb,MAAIc,IAAJ,CAAS,MAAT,EAAiB,UAACZ,GAAD,EAAMC,GAAN,EAAc;AAC7B,QAAIY,UAAU,IAAIX,oBAAJ,EAAd;AACAW,YAAQC,IAAR,GAAed,IAAIe,IAAJ,CAASD,IAAxB;;AAEAD,YAAQG,IAAR,CAAa,UAASZ,GAAT,EAAc;AACzB,UAAIA,GAAJ,EAAS;AACPH,YAAIK,IAAJ,CAASF,GAAT;AACD;AACDH,UAAIM,IAAJ,CAAS,EAAEU,SAAS,+BAAX,EAAT;AACD,KALD;AAMD,GAVD;AAWA,SAAOnB,GAAP;AACD,C","file":"restaurant.js","sourcesContent":["import mongoose from 'mongoose';\r\nimport { Router } from 'express';\r\nimport Restaurant from '../model/restaurant';\r\nimport bodyParser from 'body-parser';\r\n\r\nexport default({ config, db }) => {\r\n  let api = Router();\r\n\r\n  // '/v1/restaurant'\r\n  api.get('/', (req, res) => {\r\n    Restaurant.find({}, (err, restaurants) => {\r\n      if (err) {\r\n        res.send(err);\r\n      }\r\n      res.json(restaurants);\r\n    });\r\n  });\r\n\r\n  // '/v1/restaurant/:id'\r\n  api.get('/:id', (req, res) => {\r\n    Restaurant.findById(req.params.id, (err, restaurant) => {\r\n      if (err) {\r\n        res.send(err);\r\n      }\r\n      res.json(restaurant);\r\n    });\r\n  });\r\n\r\n  // '/v1/restaurant/add'\r\n  api.post('/add', (req, res) => {\r\n    let newRest = new Restaurant();\r\n    newRest.name = req.body.name;\r\n\r\n    newRest.save(function(err) {\r\n      if (err) {\r\n        res.send(err);\r\n      }\r\n      res.json({ message: 'Restaurant saved successfully' });\r\n    });\r\n  });\r\n  return api;\r\n}\r\n"]}